function vote(e){const t=ref(db,"poll/"+e);runTransaction(t,(e=>(e||0)+1))}import{initializeApp}from"firebase/app";import{getDatabase,ref,onValue,runTransaction}from"firebase/database";const firebaseConfig={apiKey:"AIzaSyDgpA7bQqbxB6FHGvzH3hhsTEjj5HqfOPk",authDomain:"webpoll-df05f.firebaseapp.com",databaseURL:"https://webpoll-df05f-default-rtdb.firebaseio.com/",projectId:"webpoll-df05f",storageBucket:"webpoll-df05f.appspot.com",messagingSenderId:"950117028692",appId:"1:950117028692:web:9dba1d31ea590f9aa8eec1",measurementId:"G-0ECNVS3QVJ"},app=initializeApp(firebaseConfig),db=getDatabase(app);document.getElementById("poll-form").addEventListener("submit",(function(e){e.preventDefault();const t=document.querySelector('input[name="vote"]:checked');t?(vote(t.value),alert("Vote submitted!")):alert("Please select an option.")}));const resultsRef=ref(db,"poll");onValue(resultsRef,(e=>{const t=e.val(),a=document.getElementById("results");a.innerHTML="",t&&Object.entries(t).forEach((([e,t])=>{let o=document.createElement("li");o.textContent=`${e}: ${t} votes`,a.appendChild(o)}))}));