document.addEventListener("DOMContentLoaded",(function(){async function e(e){try{(await o.get()).exists?await o.update({[e]:firebase.firestore.FieldValue.increment(1)}):await o.set({yes:0,no:0,maybe:0,[e]:1}),alert("Vote submitted!")}catch(e){}}function t(e){document.getElementById("results").innerHTML=`\n            <li>Yes: ${e.yes} votes</li>\n            <li>No: ${e.no} votes</li>\n            <li>Maybe: ${e.maybe} votes</li>\n        `}if("undefined"==typeof firebase)return;const n=firebase.firestore(),o=n.collection("poll").doc("TheGI6hg4tCo4dWsTp6Z");document.getElementById("poll-form").addEventListener("submit",(function(t){t.preventDefault();const n=document.querySelector('input[name="vote"]:checked');n?e(n.value):alert("Please select an option.")})),o.onSnapshot((e=>{e.exists&&t(e.data())}))}));